<form id="yourFormId" asp-controller="User" asp-action="GetReportDetailed" method="get" onsubmit="return validateDateRange()">
    <label for="BeginningDate">Data inicial:</label>
    <input type="date" id="BeginningDate" name="BeginningDate" required>
    <br />
    <label for="EndDate">Data final:</label>
    <input type="date" id="EndDate" name="EndDate" required>
    <br/>
    <label for="RequestMessage">Buscar por mensagem: </label>
    <input type="text" id="RequestMessage" name="RequestMessage">
    <br>
    <label for="Receiver">Enviado para:</label>
    <input type="number" id="Receiver" name="Receiver">
    <br />
    @* <label for="Delivered">Status do SMS:</label>
    <select id="Delivered" name="Delivered">
        <option value="all">Todos</option>
        <option value="true">Entregue</option>
        <option value="false">Não entregue</option>
    </select> *@
    <br />
    <button type="submit">Pesquisar</button>
</form>

<script>
    function validateDateRange() {
        var beginningDate = new Date(document.getElementById("BeginningDate").value);
        var endDate = new Date(document.getElementById("EndDate").value);
        var receiver = document.getElementById("Receiver").value;

        if (beginningDate > endDate) {
            alert("O período inserido é inválido");
            return false;
        }

        // Check if the phone number is provided and not empty
        if (receiver.trim() !== "") {
            // Remove any non-numeric characters from the phone number
            var numericPhone = receiver.replace(/\D/g, '');

            if (numericPhone.length !== 11 || isNaN(numericPhone)) {
                alert("Número de telefone inválido. Deve conter 11 dígitos numéricos.");
                return false;
            }
        }

        return true;
    }

    // Attach the validateDateRange function to the form's onsubmit event
    document.getElementById("yourFormId").onsubmit = validateDateRange;
</script>
